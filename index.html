
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>واجهة المستخدم</title>
  <style>
    body {
      font-family: "Cairo", sans-serif;
      direction: rtl;
      background: #f2f2f2;
      padding: 30px;
      color: #333;
    }

    h2 {
      text-align: center;
      margin-bottom: 30px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    th, td {
      padding: 15px;
      text-align: center;
      border-bottom: 1px solid #eee;
    }

    th {
      background-color: #fafafa;
    }

    .complete-btn {
      padding: 6px 15px;
      border: none;
      border-radius: 20px;
      cursor: pointer;
    }

    .gray {
      background-color: #bbb;
      color: white;
    }

    .green {
      background-color: #4caf50;
      color: white;
    }
  </style>
</head>
<body>
  <h2>مهامي</h2>

  <table>
    <thead>
      <tr>
        <th>الاسم</th>
        <th>رقم الهاتف</th>
        <th>ملاحظات</th>
        <th>الحالة</th>
        <th>بواسطة</th>
      </tr>
    </thead>
    <tbody id="dataTable"></tbody>
  </table>

  <script>
    // المستخدم الحالي
    const currentUser = "user1@example.com";

    // بيانات جاهزة مؤقتاً (يمكن تعديلها لاحقاً)
    let entries = [
      { name: "أحمد", phone: "0101010101", notes: "متابعة الطلب", completed: false, completedBy: "" },
      { name: "سارة", phone: "0202020202", notes: "تم التواصل", completed: true, completedBy: "admin" },
      { name: "خالد", phone: "0303030303", notes: "بانتظار الرد", completed: false, completedBy: "" },
    ];

    function renderTable() {
      const table = document.getElementById("dataTable");
      table.innerHTML = "";

      entries.forEach((entry, index) => {
        const row = document.createElement("tr");

        row.innerHTML = `
          <td>${entry.name}</td>
          <td>${entry.phone}</td>
          <td>${entry.notes}</td>
        `;

        const completeBtn = document.createElement("button");
        completeBtn.className = "complete-btn " + (entry.completed ? "green" : "gray");
        completeBtn.innerText = entry.completed ? "✓ مكتمل" : "مكتمل";

        if (!entry.completed) {
          completeBtn.onclick = () => {
            entry.completed = true;
            entry.completedBy = currentUser;
            renderTable();
          };
        }

        const completeTd = document.createElement("td");
        completeTd.appendChild(completeBtn);
        row.appendChild(completeTd);

        const byTd = document.createElement("td");
        byTd.innerText = entry.completedBy || "-";
        row.appendChild(byTd);

        table.appendChild(row);
      });
    }

    renderTable();
  </script>
</body>
</html>
